{"version":3,"file":"taquito-indexer.es5.js","sources":["../src/taquito-indexer.ts"],"sourcesContent":["import { HttpBackend } from '@taquito/http-utils';\nimport { BalanceHistory } from './types';\n\nconst defaultIndexerUrl = 'https://api.tez.ie/indexer/mainnet';\n\nexport interface BalanceHistoryOptions {\n  start?: string | Date;\n  end?: string | Date;\n  limit?: number;\n}\n\n/***\n * @description RpcClient allows interaction with Tezos network through an rpc node\n */\nexport class IndexerClient {\n  /**\n   *\n   * @param url indexer root url (default https://tezrpc.me)\n   * @param httpBackend Http backend that issue http request.\n   * You can override it by providing your own if you which to hook in the request/response\n   *\n   * @example new IndexerClient('https://api.tez.ie/indexer/mainnet')\n   */\n  constructor(\n    private url: string = defaultIndexerUrl,\n    private httpBackend: HttpBackend = new HttpBackend()\n  ) { }\n\n  async getBalanceHistory(\n    address: string,\n    { start, end, limit }: BalanceHistoryOptions = {}\n  ): Promise<BalanceHistory> {\n    return this.httpBackend.createRequest({\n      url: `${this.url}/balances/${address}`,\n      method: 'GET',\n      query: {\n        start,\n        end,\n        limit,\n      },\n    });\n  }\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAGA,IAAM,iBAAiB,GAAG,oCAAoC,CAAC;;;;AAW/D;;;;;;;;;IASE,uBACU,GAA+B,EAC/B,WAA4C;QAD5C,oBAAA,EAAA,uBAA+B;QAC/B,4BAAA,EAAA,kBAA+B,WAAW,EAAE;QAD5C,QAAG,GAAH,GAAG,CAA4B;QAC/B,gBAAW,GAAX,WAAW,CAAiC;KACjD;IAEC,yCAAiB,GAAvB,UACE,OAAe,EACf,EAAiD;YAAjD,4BAAiD,EAA/C,gBAAK,EAAE,YAAG,EAAE,gBAAK;;;gBAEnB,sBAAO,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC;wBACpC,GAAG,EAAK,IAAI,CAAC,GAAG,kBAAa,OAAS;wBACtC,MAAM,EAAE,KAAK;wBACb,KAAK,EAAE;4BACL,KAAK,OAAA;4BACL,GAAG,KAAA;4BACH,KAAK,OAAA;yBACN;qBACF,CAAC,EAAC;;;KACJ;IACH,oBAAC;CAAA;;;;"}