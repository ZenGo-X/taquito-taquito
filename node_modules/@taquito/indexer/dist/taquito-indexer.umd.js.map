{"version":3,"file":"taquito-indexer.umd.js","sources":["../src/taquito-indexer.ts"],"sourcesContent":["import { HttpBackend } from '@taquito/http-utils';\nimport { BalanceHistory } from './types';\n\nconst defaultIndexerUrl = 'https://api.tez.ie/indexer/mainnet';\n\nexport interface BalanceHistoryOptions {\n  start?: string | Date;\n  end?: string | Date;\n  limit?: number;\n}\n\n/***\n * @description RpcClient allows interaction with Tezos network through an rpc node\n */\nexport class IndexerClient {\n  /**\n   *\n   * @param url indexer root url (default https://tezrpc.me)\n   * @param httpBackend Http backend that issue http request.\n   * You can override it by providing your own if you which to hook in the request/response\n   *\n   * @example new IndexerClient('https://api.tez.ie/indexer/mainnet')\n   */\n  constructor(\n    private url: string = defaultIndexerUrl,\n    private httpBackend: HttpBackend = new HttpBackend()\n  ) { }\n\n  async getBalanceHistory(\n    address: string,\n    { start, end, limit }: BalanceHistoryOptions = {}\n  ): Promise<BalanceHistory> {\n    return this.httpBackend.createRequest({\n      url: `${this.url}/balances/${address}`,\n      method: 'GET',\n      query: {\n        start,\n        end,\n        limit,\n      },\n    });\n  }\n}\n"],"names":["HttpBackend"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAGA,IAAM,iBAAiB,GAAG,oCAAoC,CAAC;IAQ/D;;;AAGA;;;;;;;;;QASE,uBACU,GAA+B,EAC/B,WAA4C;YAD5C,oBAAA,EAAA,uBAA+B;YAC/B,4BAAA,EAAA,kBAA+BA,qBAAW,EAAE;YAD5C,QAAG,GAAH,GAAG,CAA4B;YAC/B,gBAAW,GAAX,WAAW,CAAiC;SACjD;QAEC,yCAAiB,GAAvB,UACE,OAAe,EACf,EAAiD;gBAAjD,4BAAiD,EAA/C,gBAAK,EAAE,YAAG,EAAE,gBAAK;;;oBAEnB,sBAAO,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC;4BACpC,GAAG,EAAK,IAAI,CAAC,GAAG,kBAAa,OAAS;4BACtC,MAAM,EAAE,KAAK;4BACb,KAAK,EAAE;gCACL,KAAK,OAAA;gCACL,GAAG,KAAA;gCACH,KAAK,OAAA;6BACN;yBACF,CAAC,EAAC;;;SACJ;QACH,oBAAC;IAAD,CAAC;;;;;;;;;;;;"}